/* Container for the line of words */
.speech-line {
  line-height: 2.2;
  font-size: 1.25rem;
  font-family: inherit;
}

/* Individual word blocks */
.word-block {
  display: inline-block;
  margin: 0 3px;
  padding: 6px 10px;
  border-radius: 8px;
  transition:
    background-color 0.3s ease,
    color 0.3s ease,
    transform 0.3s ease,
    opacity 0.3s ease;
}

/* 1. Black text = words that still need to be said (neutral, upcoming) */
.word-pending {
  color: hsl(var(--foreground));
  background-color: transparent;
  opacity: 1;
}

/* 2. Blue flashing = current word to say now */
.word-current {
  color: hsl(217 91% 60%);
  background-color: hsl(217 91% 60% / 0.15);
  font-weight: 700;
  font-size: 1.1em;
  transform: scale(1.08);
  animation: current-flash 1.2s ease-in-out infinite;
  border-radius: 8px;
}

@keyframes current-flash {
  0%, 100% {
    background-color: hsl(217 91% 60% / 0.15);
    box-shadow: 0 0 0 0 hsl(217 91% 60% / 0.4);
  }
  50% {
    background-color: hsl(217 91% 60% / 0.3);
    box-shadow: 0 0 12px 4px hsl(217 91% 60% / 0.3);
  }
}

/* 3. Yellow = pause/hesitation (waited too long) */
.word-yellow {
  color: hsl(45 100% 35%);
  background-color: hsl(45 100% 51% / 0.3);
  font-weight: 600;
}

/* 4. Red = wrong word (said wrong, skipped, or broke sequence) */
.word-red {
  color: hsl(0 84% 45%);
  background-color: hsl(0 84% 60% / 0.25);
  font-weight: 600;
}

/* 5. Gray = spoken correctly but not yet mastered (faded but readable) */
.word-spoken {
  color: hsl(var(--muted-foreground));
  background-color: transparent;
  opacity: 0.5;
}

/* Legacy class mappings for compatibility */
.word-gray {
  color: hsl(var(--foreground));
  background-color: transparent;
  opacity: 1;
}

.past-word {
  color: hsl(var(--muted-foreground));
  background-color: transparent;
  opacity: 0.5;
}

.current-word {
  color: hsl(217 91% 60%);
  background-color: hsl(217 91% 60% / 0.15);
  font-weight: 700;
  font-size: 1.1em;
  transform: scale(1.08);
  animation: current-flash 1.2s ease-in-out infinite;
}

/* Shake animation for errors */
@keyframes error-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  50% { transform: translateX(3px); }
  75% { transform: translateX(-3px); }
}

/* Success fade animation */
@keyframes success-fade {
  0% { opacity: 1; }
  100% { opacity: 0.5; }
}

/* Recovery animation when error is corrected */
.word-recovered {
  animation: recovery-pulse 0.4s ease;
}

@keyframes recovery-pulse {
  0% { 
    background-color: hsl(142 76% 36% / 0.3);
  }
  100% { 
    background-color: transparent;
  }
}
